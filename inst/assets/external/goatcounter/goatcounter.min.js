(function(){var b,f,c,k,d,i,j,a,g,e,h;if('use strict',window.goatcounter&&window.goatcounter.vars?window.goatcounter=window.goatcounter.vars:window.goatcounter=window.goatcounter||{},b=document.querySelector('script[data-goatcounter]'),b&&b.dataset.goatcounterSettings){try{f=JSON.parse(b.dataset.goatcounterSettings)}catch(a){console.error('invalid JSON in data-goatcounter-settings: '+a)}for(c in f)['no_onload','no_events','allow_local','allow_frame','path','title','referrer','event'].indexOf(c)>-1&&(window.goatcounter[c]=f[c])}k=function(b){var a={p:b.path===void 0?goatcounter.path:b.path,r:b.referrer===void 0?goatcounter.referrer:b.referrer,t:b.title===void 0?goatcounter.title:b.title,e:!!(b.event||goatcounter.event),s:[window.screen.width,window.screen.height,window.devicePixelRatio||1],b:i(),q:location.search},c,f,g;return typeof a.r=='function'&&(c=a.r),typeof a.t=='function'&&(g=a.t),typeof a.p=='function'&&(f=a.p),d(a.r)&&(a.r=document.referrer),d(a.t)&&(a.t=document.title),d(a.p)&&(a.p=e()),c&&(a.r=c(a.r)),g&&(a.t=g(a.t)),f&&(a.p=f(a.p)),a},d=function(a){return a===null||a===void 0||typeof a=='function'},i=function(){var a=window,b=document;return a.callPhantom||a._phantom||a.phantom?150:a.__nightmare?151:b.__selenium_unwrapped||b.__webdriver_evaluate||b.__driver_evaluate?152:navigator.webdriver?153:0},j=function(a){var c=[],b;for(b in a)a[b]!==''&&a[b]!==null&&a[b]!==void 0&&a[b]!==!1&&c.push(encodeURIComponent(b)+'='+encodeURIComponent(a[b]));return'?'+c.join('&')},a=function(a){console&&'warn'in console&&console.warn('goatcounter: '+a)},g=function(){var a=document.querySelector('script[data-goatcounter]');return a&&a.dataset.goatcounter?a.dataset.goatcounter:goatcounter.endpoint||window.counter},e=function(){var a=location,c=document.querySelector('link[rel="canonical"][href]'),b;return c&&(b=document.createElement('a'),b.href=c.href,b.hostname.replace(/^www\./,'')===location.hostname.replace(/^www\./,'')&&(a=b)),a.pathname+a.search||'/'},h=function(a){document.body===null?document.addEventListener('DOMContentLoaded',function(){a()},!1):a()},goatcounter.filter=function(){return'visibilityState'in document&&(document.visibilityState==='prerender'||document.visibilityState==='hidden')?'visibilityState':!goatcounter.allow_frame&&location!==parent.location?'frame':!goatcounter.allow_local&&location.hostname.match(/(localhost$|^127\.|^10\.|^172\.(1[6-9]|2[0-9]|3[0-1])\.|^192\.168\.)/)?'localhost':!goatcounter.allow_local&&location.protocol==='file:'?'localfile':!!(localStorage&&localStorage.getItem('skipgc')==='t')&&'disabled with #toggle-goatcounter'},window.goatcounter.url=function(d){var b=k(d||{}),c;if(b.p===null)return;return b.rnd=Math.random().toString(36).substr(2,5),c=g(),!c?a('no endpoint found'):c+j(b)},window.goatcounter.count=function(f){var c=goatcounter.filter(),d,b,e;if(c)return a('not counting because of: '+c);if(d=goatcounter.url(f),!d)return a('not counting because path callback returned null');b=document.createElement('img'),b.src=d,b.style.position='absolute',b.setAttribute('alt',''),b.setAttribute('aria-hidden','true'),e=function(){b&&b.parentNode&&b.parentNode.removeChild(b)},setTimeout(e,1e4),b.addEventListener('load',e,!1),document.body.appendChild(b)},window.goatcounter.get_query=function(c){for(var b=location.search.substr(1).split('&'),a=0;a<b.length;a++)if(b[a].toLowerCase().indexOf(c.toLowerCase()+'=')===0)return b[a].substr(c.length+1)},window.goatcounter.bind_events=function(){if(!document.querySelectorAll)return;var a=function(a){return function(){goatcounter.count({event:!0,path:a.dataset.goatcounterClick||a.name||a.id||'',title:a.dataset.goatcounterTitle||a.title||(a.innerHTML||'').substr(0,200)||'',referrer:a.dataset.goatcounterReferrer||a.dataset.goatcounterReferral||''})}};Array.prototype.slice.call(document.querySelectorAll("*[data-goatcounter-click]")).forEach(function(b){if(b.dataset.goatcounterBound)return;var c=a(b);b.addEventListener('click',c,!1),b.addEventListener('auxclick',c,!1),b.dataset.goatcounterBound='true'})},window.goatcounter.visit_count=function(b){h(function(){var c,d,f,h;if(b=b||{},b.type=b.type||'html',b.append=b.append||'body',b.path=b.path||e(),b.attr=b.attr||{width:'200',height:b.no_branding?'60':'80'},b.attr.src=g()+'er/'+encodeURIComponent(b.path)+'.'+b.type+'?',b.no_branding&&(b.attr.src+='&no_branding=1'),b.style&&(b.attr.src+='&style='+encodeURIComponent(b.style)),c={png:'img',svg:'img',html:'iframe'}[b.type],!c)return a('visit_count: unknown type: '+b.type);b.type==='html'&&(b.attr.frameborder='0',b.attr.scrolling='no'),d=document.createElement(c);for(f in b.attr)d.setAttribute(f,b.attr[f]);if(h=document.querySelector(b.append),!h)return a('visit_count: append not found: '+b.append);h.appendChild(d)})},location.hash==='#toggle-goatcounter'&&(localStorage.getItem('skipgc')==='t'?(localStorage.removeItem('skipgc','t'),alert('GoatCounter tracking is now ENABLED in this browser.')):(localStorage.setItem('skipgc','t'),alert('GoatCounter tracking is now DISABLED in this browser until '+location+' is loaded again.'))),goatcounter.no_onload||h(function(){goatcounter.count(),goatcounter.no_events||goatcounter.bind_events()})})()
